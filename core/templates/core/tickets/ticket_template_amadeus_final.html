<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boleto Electrónico - {{ pasajero.nombre_completo }}</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Open+Sans:wght@400;600&display=swap');
        :root {
            --tk-dark-blue: #0c66e1;
            --tk-medium-blue: #3d8bfd;
            --tk-text-dark: #2c3e50;
            --tk-text-light: #495057;
            --tk-background-light: #f8f9fa;
            --tk-border-light: #e9ecef;
        }
        @page { margin: 0; size: A4; }
        * { box-sizing: border-box; }
        body { -webkit-print-color-adjust: exact; print-color-adjust: exact; margin: 0; padding: 0; background-color: #eef2f9; font-family: 'Open Sans', sans-serif; font-size: 9.5pt; color: var(--tk-text-light); }
        .ticket-container { width: 210mm; min-height: 297mm; margin: 0 auto; background-color: #ffffff; display: flex; flex-direction: column; }
        .ticket-header { background: #0c66e1; color: #fff; padding: 20px 30px; display: flex; justify-content: space-between; align-items: center; }
        .ticket-header img.logo { height: 45px; }
        .header-contact { text-align: right; font-size: 8pt; line-height: 1.6; }
        .ticket-body { padding: 25px 30px; flex-grow: 1; }
        .ticket-body h1 { font-family: 'Poppins', sans-serif; font-size: 22pt; color: var(--tk-dark-blue); margin: 0 0 25px 0; font-weight: 700; }
        .greeting { font-size: 13pt; margin-bottom: 30px; font-weight: 400; }
        .greeting span { font-weight: 700; color: var(--tk-dark-blue); }
        .info-section { margin-bottom: 25px; }
        .section-header { display: flex; align-items: center; margin-bottom: 12px; }
        .info-icon { flex-shrink: 0; margin-right: 15px; width: 40px; height: 40px; background-color: #eaf5ff; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .info-icon svg { width: 20px; height: 20px; fill: var(--tk-medium-blue); }
        .section-header h2 { font-family: 'Poppins', sans-serif; font-size: 14pt; font-weight: 600; color: var(--tk-dark-blue); margin: 0; }
        .details-card { background-color: var(--tk-background-light); border: 1px solid var(--tk-border-light); border-radius: 8px; padding: 20px; box-shadow: 0 1px 2px rgba(0,0,0,.05); }
        .details-card p { margin: 0 0 12px 0; line-height: 1.6; word-wrap: break-word; }
        .details-card p:last-child { margin-bottom: 0; }
        .details-card .label { font-weight: 400; color: var(--tk-text-light); }
        .details-card .value { font-weight: 600; color: var(--tk-text-dark); }
        .details-table { width: 100%; border-collapse: collapse; table-layout: fixed; }
        .details-table td { vertical-align: top; padding-bottom: 12px; width: 50%; padding-right: 10px; word-wrap: break-word; }
        .details-table tr:last-child td { padding-bottom: 0; }
        .itinerary-section { border: 1px solid var(--tk-border-light); border-radius: 8px; overflow: hidden; box-shadow: 0 1px 2px rgba(0,0,0,.04); }
        .itinerary-table { width: 100%; border-collapse: collapse; }
        .itinerary-table th, .itinerary-table td { padding: 6px 12px; text-align: left; font-size: 9pt; border-bottom: 1px solid var(--tk-border-light); }
        .itinerary-table thead th { background-color: var(--tk-background-light); font-weight: 600; color: var(--tk-text-dark); }
        .itinerary-table tbody tr:last-child td { border-bottom: none; }
        .ticket-footer { background-color: var(--tk-background-light); color: var(--tk-text-dark); padding: 20px 35px; text-align: center; font-size: 8pt; line-height: 1.6; border-top: 2px solid var(--tk-border-light); }
        .ticket-footer .thank-you { font-size: 9pt; font-weight: 600; margin-bottom: 10px; }
    </style>
</head>
<body>
    <div class="ticket-container">
        <header class="ticket-header">
            <img class="logo" src="data:image/png;base64,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" alt="Logo de Travelinkeo">
            <div class="header-contact">
                TELEFONO: +584123312314 / +584126080861<br>
                MAIL INFO: TRAVELINKEO@GMAIL.COM
            </div>
        </header>
        <main class="ticket-body">
            <h1>Boleto Electrónico Confirmado</h1>
            <p class="greeting">Hola, <span>{{ pasajero.nombre_completo }}</span>. Tu reserva está confirmada:</p>
            
            <div class="info-section">
                <div class="section-header">
                    <div class="info-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                    </div>
                    <h2>Información del Pasajero</h2>
                </div>
                <div class="details-card">
                    <table class="details-table">
                       <tr>
                            <td>
                                <p><span class="label">Nombre:</span><br><span class="value">{{ pasajero.nombre_completo }}</span></p>
                            </td>
                            <td>
                                 <p><span class="label">Documento:</span><br><span class="value">{{ pasajero.documento_identidad }}</span></p>
                            </td>
                       </tr>
                    </table>
                </div>
            </div>

            <div class="info-section">
                <div class="section-header">
                    <div class="info-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 10V6c0-1.11-.9-2-2-2H4c-1.1 0-2 .89-2 2v4c1.1 0 2 .89 2 2s-.9 2-2 2v4c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2v-4c-1.1 0-2-.89-2-2s.9-2 2-2zm-4 4H6v-2h12v2zm0-4H6V8h12v2z"/></svg>
                    </div>
                    <h2>Detalles de la Reserva</h2>
                </div>
                <div class="details-card">
                    <table class="details-table">
                        <tr>
                            <td>
                                <p><span class="label">Código de Reserva:</span><br><span class="value">{{ reserva.codigo_reservacion }}</span></p>
                            </td>
                            <td>
                                <p><span class="label">Número de Boleto:</span><br><span class="value">{{ reserva.numero_boleto }}</span></p>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <p><span class="label">Fecha de Emisión:</span><br><span class="value">{{ reserva.fecha_emision }}</span></p>
                            </td>
                       <td>
                           <p><span class="label">Agente Emisor IATA:</span><br><span class="value">{{ reserva.agente_emisor.numero_iata }}</span></p>
                       </td>
                        </tr>
                         <tr>
                            <td colspan="2">
                                <p><span class="label">Aerolínea:</span><br><span class="value">{{ reserva.aerolinea_emisora }}</span></p>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="info-section">
                <div class="section-header">
                    <div class="info-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"/></svg>
                    </div>
                    <h2>Itinerario de Vuelo</h2>
                </div>
                <div class="itinerary-section">
                    <table class="itinerary-table" style="table-layout: fixed;">
                        <thead>
                            <tr>
                                <th style="width: 15%;">Fecha</th>
                                <th style="width: 25%;">Aerolínea</th>
                                <th style="width: 22%;">Salida</th>
                                <th style="width: 22%;">Llegada</th>
                                <th style="width: 16%;">Otras Notas</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for vuelo in itinerario.vuelos %}
                            <tr>
                                <td>{{ vuelo.fecha_salida }}</td>
                                <td>{{ vuelo.aerolinea }}<br>{{ vuelo.numero_vuelo }}</td>
                                <td>
                                    <b>{{ vuelo.origen.ciudad }}</b>
                                    {% if vuelo.hora_salida %}<br>{{ vuelo.hora_salida }}{% endif %}
                                </td>
                                <td>
                                    <b>{{ vuelo.destino.ciudad }}</b>
                                    {% if vuelo.hora_llegada %}<br>{{ vuelo.hora_llegada }}{% endif %}
                                </td>
                                <td>
                                    {% if vuelo.codigo_reservacion_local %}PNR: {{ vuelo.codigo_reservacion_local }}<br>{% endif %}
                                    {% if vuelo.cabina %}Clase: {{ vuelo.cabina }}<br>{% endif %}
                                    {% if vuelo.equipaje %}{{ vuelo.equipaje }}{% endif %}
                                </td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
        <footer class="ticket-footer">
            <div class="thank-you">Gracias por elegirnos. ¡Te deseamos un excelente viaje!</div>
            @TRAVELINKEO | +58412 3312314 / +58412 6080861 | PROLONGACION ZULUAGA, EDIF. Q, LOS ROSALES, CARACAS
        </footer>
    </div>
</body>
</html>

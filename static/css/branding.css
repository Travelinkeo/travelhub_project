/* branding.css - Guía de estilo centralizada */
/* 1. Variables de tema */
:root {
  --color-primary: #D92B2B;
  --color-primary-accent: #b82020;
  --color-secondary: #2173a6;
  --color-secondary-accent: #185577;
  --color-dark: #0d1e40;
  --color-bg: #f5f7fa;
  --color-surface: #ffffff;
  --color-border: #e2e8f0;
  --color-text: #2c3e50;
  --color-text-muted: #64748b;
  --color-success: #2e7d32;
  --color-warning: #b97800;
  --color-danger: #c62828;
  --gradient-header: linear-gradient(90deg,#0d1e40,#2173a6 40%, #D92B2B 90%);

  --radius-xs: 3px;
  --radius-sm: 6px;
  --radius-md: 10px;
  --radius-lg: 18px;
  --shadow-sm: 0 1px 2px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 10px -2px rgba(0,0,0,0.12);
  --shadow-lg: 0 8px 24px -4px rgba(0,0,0,0.18);

  --font-sans: 'Open Sans', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  --font-heading: 'Poppins', var(--font-sans);
  --transition-base: .18s cubic-bezier(.4,0,.2,1);
  --container-max: 1180px;
}

/* 2. Reset / base tipográfica ligera */
html { box-sizing: border-box; font-size: 16px; }
*,*::before,*::after { box-sizing: inherit; }
body { margin:0; font-family: var(--font-sans); background: var(--color-bg); color: var(--color-text); -webkit-font-smoothing: antialiased; }
img { max-width:100%; display:block; }
a { color: var(--color-primary); text-decoration: none; transition: color var(--transition-base); }
a:hover { color: var(--color-primary-accent); }

/* 3. Layout */
.site-header { background: var(--gradient-header); color:#fff; padding: .75rem 1.25rem; position:sticky; top:0; z-index:40; box-shadow: var(--shadow-md); }
.site-header__inner { max-width: var(--container-max); margin:0 auto; display:flex; align-items:center; gap:2rem; }
.brand { font-family: var(--font-heading); font-size:1.35rem; font-weight:600; letter-spacing:.5px; }
.brand a { color:#fff; }
.nav-main { margin-left:auto; }
.nav-main ul { list-style:none; margin:0; padding:0; display:flex; gap:1rem; }
.nav-main a { color:#fff; font-weight:500; padding:.5rem .9rem; border-radius: var(--radius-sm); backdrop-filter: saturate(140%) brightness(1.1); }
.nav-main a:hover, .nav-main a:focus { background: rgba(255,255,255,.15); }

.container-xl { width:100%; max-width: var(--container-max); margin:0 auto; padding: 1.5rem 1.25rem 2.5rem; }
.layout-shell { display:grid; grid-template-columns: 1fr 310px; align-items:start; gap:1.75rem; max-width: var(--container-max); margin:0 auto; padding: 1.2rem 1.1rem 2rem; }
.layout-main { min-width:0; }
.layout-aside { position:sticky; top:4.5rem; align-self:start; background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-md); padding:1rem 1rem 1.25rem; box-shadow: var(--shadow-sm); display:flex; flex-direction:column; gap:1rem; transition: width var(--transition-base), padding var(--transition-base); }

/* --- Right Sidebar Navigation (new) --- */
.aside-menu {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  padding-bottom: .5rem;
  border-bottom: 1px solid var(--color-border);
}

.menu-group {
  background: var(--color-surface);
  border: 1px solid var(--color-border);
  border-radius: var(--radius-sm);
  box-shadow: 0 1px 2px rgba(0,0,0,.05);
}

.menu-group__toggle {
  width: 100%;
  text-align: left;
  background: linear-gradient(var(--color-surface), var(--color-surface-alt));
  border: 0;
  padding: .55rem .75rem;
  font-size: .8rem;
  font-weight: 600;
  letter-spacing: .5px;
  text-transform: uppercase;
  cursor: pointer;
  color: var(--color-text);
  display: flex;
  align-items: center;
  gap: .5rem;
  position: relative;
}

.menu-group__toggle:after {
  content: '\25BC';
  font-size: .65rem;
  margin-left: auto;
  transition: transform .25s;
  opacity: .7;
}

.menu-group__toggle[aria-expanded="false"]:after {
  transform: rotate(-90deg);
}

.menu-group__list {
  list-style: none;
  margin: 0;
  padding: .25rem 0 .5rem;
  display: flex;
  flex-direction: column;
  gap: .15rem;
  animation: fadeSlide .25s ease;
}

.menu-group__list a {
  display: block;
  padding: .45rem .85rem .45rem 1rem;
  font-size: .85rem;
  text-decoration: none;
  color: var(--color-text);
  border-left: 3px solid transparent;
  position: relative;
  line-height: 1.15rem;
}

.menu-group__list a:hover {
  background: var(--color-surface-alt);
  border-left-color: var(--color-accent);
  color: var(--color-accent);
}

.menu-group__list a[aria-disabled="true"] {
  opacity: .45;
  cursor: not-allowed;
}

.theme-dark .menu-group {
  box-shadow: 0 1px 3px rgba(0,0,0,.4);
}

@keyframes fadeSlide {
  from {opacity:0; transform:translateY(-4px);}
  to {opacity:1; transform:translateY(0);}
}

/* Collapsed sidebar variant */
.layout-aside.is-collapsed {
  width: 70px;
  min-width: 70px;
  padding: .75rem .5rem;
}

.layout-aside.is-collapsed .aside-title,
.layout-aside.is-collapsed .aside-section__title,
.layout-aside.is-collapsed .menu-group__toggle {
  font-size: 0;
  line-height: 0;
  padding: .5rem;
}

.layout-aside.is-collapsed .menu-group__toggle:after { display:none; }
.layout-aside.is-collapsed .menu-group__list { display:none; }

/* Main content left alignment refinement */
main.site-main {
  max-width: 1100px;
  margin-left: 0;
  padding-left: 1rem;
  padding-right: 1.25rem;
}

@media (max-width: 1100px) {
  main.site-main { padding-right: .75rem; }
}
.layout-aside.is-collapsed { width:54px; padding:.7rem .5rem; overflow:hidden; }
.layout-aside.is-collapsed .aside-section, .layout-aside.is-collapsed .aside-footer, .layout-aside.is-collapsed .aside-title { display:none; }
.aside-header { display:flex; justify-content:space-between; align-items:center; }
.aside-title { font-family: var(--font-heading); font-size:.85rem; font-weight:600; letter-spacing:.5px; }
.aside-section__title { font-size:.65rem; text-transform:uppercase; letter-spacing:.6px; font-weight:600; margin:0 0 .4rem; color: var(--color-text-muted); }
.aside-actions { display:flex; flex-wrap:wrap; gap:.4rem; }
.aside-actions .btn { font-size:.65rem; padding:.45rem .6rem; }
.aside-metrics { list-style:none; margin:0; padding:0; display:grid; gap:.35rem; font-size:.7rem; }
.aside-metrics li { display:flex; justify-content:space-between; gap:.5rem; }
.aside-footer { font-size:.55rem; opacity:.65; margin-top:auto; }
@media (max-width: 1080px){ .layout-shell { grid-template-columns: 1fr; } .layout-aside { order:-1; position:relative; top:0; } }
.grid { display:grid; gap:1.25rem; }
.flex { display:flex; }
.flex-gap { gap:1rem; }
.space-between { justify-content: space-between; }
.center { align-items:center; justify-content:center; }

/* 4. Tarjetas y superficies */
.card, .surface { background: var(--color-surface); border:1px solid var(--color-border); border-radius: var(--radius-md); padding:1.1rem 1.25rem; box-shadow: var(--shadow-sm); position:relative; }
.card--hover:hover { box-shadow: var(--shadow-md); }
.card-header { font-family: var(--font-heading); font-weight:600; font-size:1rem; margin:-1.1rem -1.25rem 1rem; padding:.85rem 1.1rem; background: var(--color-dark); color:#fff; border-top-left-radius: var(--radius-md); border-top-right-radius: var(--radius-md); }

/* 5. Botones */
.btn { --btn-bg: var(--color-primary); --btn-bg-hover: var(--color-primary-accent); --btn-color:#fff; border:none; cursor:pointer; display:inline-flex; align-items:center; gap:.5rem; font-weight:600; padding:.65rem 1.05rem; font-size:.9rem; line-height:1.1; border-radius: var(--radius-sm); box-shadow: var(--shadow-sm); position:relative; transition: background var(--transition-base), box-shadow var(--transition-base), transform var(--transition-base); }
.btn:hover { background: var(--btn-bg-hover); box-shadow: var(--shadow-md); transform:translateY(-1px); }
.btn:active { transform:translateY(0); box-shadow: var(--shadow-sm); }
.btn--secondary { --btn-bg: var(--color-secondary); --btn-bg-hover: var(--color-secondary-accent); }
.btn--outline { background: transparent; border:1px solid var(--color-primary); color: var(--color-primary); --btn-bg-hover: var(--color-primary); }
.btn--outline:hover { color:#fff; }
.btn--danger { --btn-bg: var(--color-danger); --btn-bg-hover:#a81f1f; }
.btn--ghost { background:rgba(255,255,255,.08); color:#fff; --btn-bg-hover:rgba(255,255,255,.18); }

/* 6. Etiquetas / badges */
.badge { display:inline-flex; align-items:center; font-size:.6rem; font-weight:600; text-transform:uppercase; letter-spacing:.5px; padding:.32rem .55rem; border-radius: var(--radius-xs); background: var(--color-dark); color:#fff; line-height:1; gap:.35ch; }
/* Estado parseo */
.badge[data-status="COM"] { background: var(--color-success); }
.badge[data-status="PEN"], .badge[data-status="PRO"] { background: var(--color-warning); color:#222; }
.badge[data-status="ERR"] { background: var(--color-danger); }
.badge[data-status]:not([data-status="COM"]):not([data-status="PEN"]):not([data-status="PRO"]):not([data-status="ERR"]) { background: var(--color-secondary); }

/* 7. Tablas */
.table { width:100%; border-collapse: collapse; font-size:.85rem; }
.table th, .table td { text-align:left; padding:.65rem .75rem; border-bottom:1px solid var(--color-border); }
.table thead th { background: #f0f4f8; font-size:.7rem; text-transform:uppercase; letter-spacing:.75px; font-weight:600; color: var(--color-text-muted); }
.table tbody tr:hover { background:#f9fcff; }
.table-striped tbody tr:nth-child(odd){ background: #fafbfc; }

/* 8. Formularios */
.form-field { margin-bottom:1rem; }
.label { display:block; font-size:.75rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; margin-bottom:.4rem; color: var(--color-text-muted); }
.input, select, textarea { width:100%; padding:.6rem .7rem; border:1px solid var(--color-border); background:#fff; border-radius: var(--radius-sm); font: inherit; color: var(--color-text); transition: border-color var(--transition-base), box-shadow var(--transition-base); }
.input:focus, select:focus, textarea:focus { outline:none; border-color: var(--color-primary); box-shadow:0 0 0 3px rgba(217,43,43,.15); }
.invalid { border-color: var(--color-danger); }
.help-text { font-size:.7rem; color: var(--color-text-muted); margin-top:.25rem; }

/* 9. Utilidades espaciales */
.mt-0{margin-top:0!important;} .mt-1{margin-top:.5rem!important;} .mt-2{margin-top:1rem!important;} .mt-3{margin-top:1.5rem!important;} .mt-4{margin-top:2rem!important;}
.mb-0{margin-bottom:0!important;} .mb-1{margin-bottom:.5rem!important;} .mb-2{margin-bottom:1rem!important;} .mb-3{margin-bottom:1.5rem!important;} .mb-4{margin-bottom:2rem!important;}
.pt-0{padding-top:0!important;} .pt-1{padding-top:.5rem!important;} .pt-2{padding-top:1rem!important;} .pt-3{padding-top:1.5rem!important;} .pt-4{padding-top:2rem!important;}
.pb-0{padding-bottom:0!important;} .pb-1{padding-bottom:.5rem!important;} .pb-2{padding-bottom:1rem!important;} .pb-3{padding-bottom:1.5rem!important;} .pb-4{padding-bottom:2rem!important;}

/* 10. Mensajes / alerts */
.alert { border:1px solid var(--color-border); background:#fff; padding:.85rem 1rem; border-radius: var(--radius-sm); font-size:.8rem; position:relative; }
.alert--info { border-color: var(--color-secondary); background: #e3f3fb; }
.alert--success { border-color: var(--color-success); background: #e7f6ea; }
.alert--warning { border-color: var(--color-warning); background: #fff4db; }
.alert--danger { border-color: var(--color-danger); background: #fdecec; }

/* 11. Footer */
.site-footer { background: #0d1e40; color:#cfd8e3; padding:2.2rem 1rem; margin-top:3rem; }
.site-footer a { color:#fff; }
.site-footer__inner { max-width: var(--container-max); margin:0 auto; display:grid; gap:2rem; grid-template-columns: repeat(auto-fit,minmax(180px,1fr)); }
.footer-bottom { margin-top:2rem; font-size:.7rem; text-align:center; opacity:.7; }

/* 12. Ticket preview wrapper (para futuras vistas web de PDFs) */
.ticket-preview { background:#fff; border:1px solid var(--color-border); border-radius: var(--radius-md); padding:1.25rem; box-shadow: var(--shadow-md); }

/* 13. Animaciones pequeñas */
.fade-in { animation: fade-in .4s ease; }
@keyframes fade-in { from { opacity:0; transform:translateY(4px);} to { opacity:1; transform:translateY(0);} }

/* 14. Dark mode (clase .theme-dark en <html>) */
.theme-dark { --color-bg:#101828; --color-surface:#1d2939; --color-border:#334155; --color-text:#f1f5f9; --color-text-muted:#94a3b8; }
.theme-dark body { background: var(--color-bg); color: var(--color-text); }
.theme-dark .table thead th { background:#1f2937; }
.theme-dark .card, .theme-dark .surface { box-shadow:none; }
.theme-dark .site-footer { background:#0b162d; }
.theme-dark .nav-main a:hover { background: rgba(255,255,255,.2); }
.theme-dark .card-header { background: #15263e; }

/* === Left Sidebar (App Sidebar) Responsive Implementation === */
.layout-shell.layout-shell--with-left { grid-template-columns: 260px minmax(0,1fr); max-width: 100%; margin:0; padding: .75rem 1.25rem 2rem 0; }
.layout-shell--with-left .layout-main { padding-left:1.25rem; }
.layout-shell--with-left .app-sidebar { margin-left:0; }
.layout-shell.layout-shell--with-left .layout-main { order:2; }
.layout-shell.layout-shell--with-left .app-sidebar { order:1; }

.app-sidebar { position:sticky; top:4.5rem; height: calc(100vh - 5rem); background: #1e293b; color:#cbd5e1; display:flex; flex-direction:column; width:260px; border-radius: var(--radius-md); box-shadow: var(--shadow-sm); padding:.75rem .75rem 1rem; overflow-y:auto; transition: width .25s ease, transform .35s ease; }
.theme-dark .app-sidebar { background:#132033; color:#e2e8f0; }
.app-sidebar::-webkit-scrollbar { width:8px; }
.app-sidebar::-webkit-scrollbar-track { background: rgba(255,255,255,0.05); }
.app-sidebar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.18); border-radius:4px; }

.app-sidebar.is-collapsed { width:80px; }
.app-sidebar.is-collapsed .app-nav__label { display:none; }
.app-sidebar.is-collapsed .app-nav__link { justify-content:center; padding:.55rem .55rem; }
.app-sidebar.is-collapsed .app-sidebar__metrics { display:none; }
.app-sidebar.is-collapsed .sidebar-collapse-btn:after { transform:rotate(180deg); }

@media (max-width: 991px) {
  .layout-shell.layout-shell--with-left { grid-template-columns: 1fr; }
  .app-sidebar { position:fixed; top:0; left:0; height:100vh; border-radius:0; width:250px; transform:translateX(-102%); z-index:1200; box-shadow: 2px 0 8px rgba(0,0,0,.4); }
  .app-sidebar.is-open { transform:translateX(0); }
  body.has-offcanvas { overflow:hidden; }
  .sidebar-mobile-open { display:inline-flex; }
}

.app-sidebar__top { display:flex; align-items:center; justify-content:flex-end; gap:.25rem; margin-bottom:.25rem; }
.sidebar-mobile-close { display:none; background:transparent; border:0; font-size:1.75rem; line-height:1; color:#94a3b8; cursor:pointer; }
@media (max-width: 991px){ .sidebar-mobile-close { display:inline-block; } }

.sidebar-collapse-btn { background:transparent; border:1px solid rgba(255,255,255,0.15); width:32px; height:32px; border-radius:6px; cursor:pointer; position:relative; }
.sidebar-collapse-btn:after { content:'\25C0'; color:#94a3b8; font-size:.8rem; position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); transition:transform .3s; }
.app-sidebar.is-collapsed .sidebar-collapse-btn { border-color:rgba(255,255,255,0.25); }

.app-nav__label { font-size:.65rem; text-transform:uppercase; letter-spacing:.6px; font-weight:600; padding:.9rem .85rem .35rem; opacity:.7; }
.app-nav__list { list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:.15rem; }
.app-nav__link { display:flex; align-items:center; gap:.65rem; font-size:.82rem; padding:.55rem .75rem; border-radius:8px; color:#cbd5e1; text-decoration:none; line-height:1.2; position:relative; transition: background .2s, color .2s; }
.app-nav__link:hover { background:rgba(255,255,255,.08); color:#fff; }
.app-nav__link--active { background: linear-gradient(90deg, var(--color-primary) 0%, var(--color-primary) 90%, rgba(255,255,255,0.05)); color:#fff; box-shadow:0 1px 2px rgba(0,0,0,.3); }
.app-nav__link--disabled { opacity:.45; cursor:not-allowed; }

.app-sidebar__metrics { margin:1.25rem .5rem .75rem; padding:.85rem .85rem; background:rgba(255,255,255,.05); border:1px solid rgba(255,255,255,.08); border-radius:10px; font-size:.7rem; line-height:1.3; }
.app-sidebar__metrics h5 { margin:0 0 .45rem; font-size:.65rem; text-transform:uppercase; letter-spacing:.6px; font-weight:600; opacity:.75; }
.app-sidebar__metrics ul { list-style:none; margin:0; padding:0; display:grid; gap:.25rem; }
.app-sidebar__metrics li strong { font-weight:600; color:#fff; }

.app-sidebar__footer { margin-top:auto; font-size:.6rem; padding:.75rem .5rem 0; opacity:.55; text-align:center; }
.sidebar-mobile-open { position:relative; margin-bottom:1rem; display:none; background:#1e293b; color:#fff; border:0; padding:.55rem .75rem; border-radius:6px; font-size:1rem; cursor:pointer; }
.theme-dark .sidebar-mobile-open { background:#132033; }
@media (max-width: 991px){ .layout-main { padding-top:1rem; } }
.layout-shell--with-left .layout-main { padding-top:.5rem; }
